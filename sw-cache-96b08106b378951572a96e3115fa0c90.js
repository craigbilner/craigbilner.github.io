function cacheOpen(e,c){return function(n){return console.info("caching",e.request.url),n.put(e.request,c.clone()),c}}function fetchSuccess(e){return function(c){return console.info("fetch success",e.request.url),caches.open("v1").then(cacheOpen(e,c))}}function noCache(e){return function(){return console.info("no cache",e.request.url),fetch(e.request).then(fetchSuccess(e))}}function noCacheFail(){console.error("no cache fail")}this.addEventListener("fetch",function(e){console.info("fetching",e.request.url),e.respondWith(caches.match(e.request)["catch"](noCache(e))["catch"](noCacheFail))});